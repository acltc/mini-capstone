(function(t){function e(e){for(var s,i,n=e[0],l=e[1],c=e[2],d=0,u=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);p&&p(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={app:0},o=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var p=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"01c9":function(t,e,a){"use strict";a("ce43")},"034f":function(t,e,a){"use strict";a("85ec")},"0389":function(t,e,a){"use strict";a("d4b8")},1015:function(t,e,a){},"19d4":function(t,e,a){"use strict";a("1015")},"1f9e":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],i=(a("d3b7"),a("cee4")),n=a("323e"),l=a.n(n);i["a"].interceptors.request.use((function(t){return l.a.start(),t}),(function(t){return l.a.done(),Promise.reject(t)})),i["a"].interceptors.response.use((function(t){return l.a.done(),t}),(function(t){return l.a.done(),Promise.reject(t)}));var c={},p=c,d=(a("034f"),a("2877")),u=Object(d["a"])(p,r,o,!1,null,null,null),m=u.exports,v=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"exercise1-products-index"}}},[t._v(t._s(t.appConfig.name))]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise1-products-index"}}},[t._v("All products")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise1-products-new"}}},[t._v("New product")])],1)])])],1),a("router-view",{attrs:{appConfig:t.appConfig},on:{showError:t.showError}}),a("div",{staticClass:"modal fade",attrs:{id:"errorModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Error: "+t._s(t.errorMessage))]),t._m(1)]),a("div",{staticClass:"modal-body"},t._l(t.appConfig,(function(e,s){return a("div",{key:s,staticClass:"form-group row"},[a("label",{staticClass:"col-sm-6 col-form-label",class:{"text-danger":t.missingKeys.includes(s)},attrs:{for:s}},[t._v(" "+t._s(s)+" ")]),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.appConfig[s],expression:"appConfig[key]"}],staticClass:"form-control",class:{"is-invalid":t.missingKeys.includes(s)},attrs:{type:"text",id:s},domProps:{value:t.appConfig[s]},on:{input:function(e){e.target.composing||t.$set(t.appConfig,s,e.target.value)}}})])])})),0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveConfig}},[t._v("Save changes")])])])])])],1)},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],h=(a("159b"),a("b64b"),{data:function(){return{appConfig:{name:"Mini-capstone",domain:"http://localhost:3000",productsUrl:"/products",productsIdKey:"id",productsNameKey:"name",productsPriceKey:"price",productsImageUrlKey:"image_url",productsDescriptionKey:"description"},missingKeys:[],errorMessage:""}},created:function(){this.configureFromLocalStorage()},methods:{configureFromLocalStorage:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){var a=localStorage.getItem(e);null===a?localStorage.setItem(e,t.appConfig[e]):t.appConfig[e]=a}))},showError:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a={0:"Failed to connect (check if server is running with CORS configured)",200:"JSON doesn't match (configure keys below)",401:"Unauthorized for this page",404:"Route does not exist",500:"Code is crashing on server"};this.errorMessage=a[e]||"Unknown error",this.missingKeys=t,$("#errorModal").modal("show")},saveConfig:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){localStorage.setItem(e,t.appConfig[e])})),location.reload()}},computed:{}}),_=h,C=(a("19d4"),Object(d["a"])(_,f,g,!1,null,null,null)),b=C.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Products")]),a("div",{staticClass:"card-columns"},t._l(t.products,(function(e){return a("div",{key:e.id,staticClass:"card"},[a("img",{staticClass:"card-img-top",attrs:{src:e.image_url,alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),a("p",{staticClass:"card-text"},[t._v(t._s(t._f("truncate")(e.description)))]),a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"exercise1-products-show",params:{id:e.id}},append:""}},[t._v(" More info ")])],1)])})),0)])])},x=[],w=a("5530"),P=a("2909"),D=(a("99af"),a("6062"),a("3ca3"),a("ddb0"),a("a15b"),{data:function(){return{wordifiedSchema:""}},created:function(){this.wordifiedSchema=this.wordifySchema(this.schema,this.appConfig)},methods:{checkType:function(t,e){return"integer"===e||"number"===e?!isNaN(t):"string"===e?"[object String]"===Object.prototype.toString.call(t)||null===t:"array"===e?Array.isArray(t):"object"===e&&t===Object(t)},validateData:function(t,e,a){var s=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"root",o=[];return this.checkType(t,e.type)?"array"===e.type?t.forEach((function(t){o=o.concat(s.validateData(t,e.items,a,r))})):"object"===e.type&&Object.keys(e.properties).forEach((function(r){var i=e.properties[r],n=t[a[r]];o=o.concat(s.validateData(n,i,a,r))})):o.push(r),Object(P["a"])(new Set(o))},formatData:function(t,e,a){var s=this;if("array"===e.type){var r=[];return t.forEach((function(t){r.push(s.formatData(t,e.items,a))})),r}if("object"===e.type){var o=Object(w["a"])({},t);return Object.keys(e.properties).forEach((function(r){var i=e.properties[r],n=t[a[r]];o[i.alias]=s.formatData(n,i,a)})),o}return t},wordifySchema:function(t,e){var a=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="";if("array"===t.type){var o=s?"arrays":"array";r+="".concat(o," of ").concat(this.wordifySchema(t.items,e,!0))}else if("object"===t.type){var i=s?"hashes":"hash";r+="".concat(i," with key(s): ");var n=[];Object.keys(t.properties).forEach((function(s){var r=a.wordifySchema(t.properties[s],e);n.push("<strong>".concat(e[s],"</strong>").concat(r?" ("+r+")":""))})),r+=n.join(", ")}return r},formatDataToSchema:function(t){var e=this.validateData(t,this.schema,this.appConfig);return e.length>0?void this.$emit("showError",e):this.formatData(t,this.schema,this.appConfig)}}}),k={mixins:[D],props:["appConfig"],data:function(){return{products:[],schema:{type:"array",items:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImageUrlKey:{alias:"image_url",type:"string"}}}}}},created:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.productsUrl).then((function(e){t.products=t.formatDataToSchema(e.data)||t.products})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{},filters:{truncate:function(t){if(null===t)return"(No description provided)";var e=120;return t.length<e?t:t.substring(0,e-3)+"..."}}},I=k,K=Object(d["a"])(I,y,x,!1,null,null,null),E=K.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("img",{staticClass:"w-100",attrs:{src:t.product.image_url,alt:""}})]),a("div",{staticClass:"col-md-9"},[a("h1",[t._v(t._s(t.product.name))]),a("p",{staticClass:"lead"},[t._v(t._s(t.product.description))]),a("table",{staticClass:"table table-hover"},[a("tbody",t._l(t.originalProductData,(function(e,s){return a("tr",{key:s},[a("td",[a("small",[t._v(t._s(s))])]),a("td",[a("small",[t._v(t._s(e))])])])})),0)]),a("router-link",{staticClass:"btn btn-primary mr-1",attrs:{to:{name:"exercise1-products-edit",params:{id:t.product.id}}}},[t._v(" Edit product ")]),a("button",{staticClass:"btn btn-warning mr-1",attrs:{type:"button","data-toggle":"modal","data-target":"#deleteModal"}},[t._v(" Delete product ")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise1-products-index"}}},[t._v(" Back to all products ")])],1)])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[t._v("Are you sure you want to delete this product? This action cannot be undone.")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.deleteProduct(t.product)}}},[t._v("Delete")])])])])])])},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Confirm delete")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],N={mixins:[D],props:["appConfig"],data:function(){return{product:{id:0},wordifiedSchema:"",schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImageUrlKey:{alias:"image_url",type:"string"}}},originalProductData:{},errors:[]}},created:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product,t.originalProductData=e.data})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;i["a"].delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){console.log(t),$("#deleteModal").modal("hide"),e.$router.push({name:"exercise1-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))}}},j=N,T=Object(d["a"])(j,S,U,!1,null,null,null),O=T.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data sending to")]),t._v(" : POST "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+" ")]),t._m(0)])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("New product")]),a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Image url:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.image_url,expression:"image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.image_url},on:{input:function(e){e.target.composing||(t.image_url=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise1-products-index"}}},[t._v("Cancel")])],1)])])},q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(" : "),a("strong",[t._v("name")]),t._v(" , "),a("strong",[t._v("price")]),t._v(" , "),a("strong",[t._v("image_url")]),t._v(" , "),a("strong",[t._v("description")])])}],L=(a("b0c0"),a("a4d3"),a("e01a"),{data:function(){return{name:"",price:"",image_url:"",description:"",errors:[]}},props:["appConfig"],created:function(){},methods:{submit:function(){var t=this,e={name:this.name,price:this.price,image_url:this.image_url,description:this.description};i["a"].post(this.appConfig.domain+this.appConfig.productsUrl,e).then((function(e){t.$router.push({name:"exercise1-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}}),A=L,H=Object(d["a"])(A,M,q,!1,null,null,null),G=H.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("br"),a("p",[a("strong",[t._v("Data sending to")]),t._v(" : PATCH "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id)+" ")]),t._m(0)])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Edit product")]),a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Image url:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.image_url,expression:"product.image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.image_url},on:{input:function(e){e.target.composing||t.$set(t.product,"image_url",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise1-products-show",params:{id:t.product.id}}}},[t._v(" Cancel ")])],1)])])},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(" : "),a("strong",[t._v("name")]),t._v(" , "),a("strong",[t._v("price")]),t._v(" , "),a("strong",[t._v("image_url")]),t._v(" , "),a("strong",[t._v("description")])])}],Q={mixins:[D],props:["appConfig"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsImageUrlKey:{alias:"image_url",type:"string"},productsDescriptionKey:{alias:"description",type:"string"}}},errors:[]}},created:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{submit:function(){var t=this,e={name:this.product.name,price:this.product.price,image_url:this.product.image_url,description:this.product.description};i["a"].patch(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id,e).then((function(e){t.$router.push({name:"exercise1-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},B=Q,z=Object(d["a"])(B,R,F,!1,null,null,null),J=z.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"exercise3-products-index"}}},[t._v(t._s(t.appConfig.name))]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise3-products-index"}}},[t._v("All products")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise3-products-new"}}},[t._v("New product")])],1)])])],1),a("router-view",{attrs:{appConfig:t.appConfig},on:{showError:t.showError}}),a("div",{staticClass:"modal fade",attrs:{id:"errorModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Error: "+t._s(t.errorMessage))]),t._m(1)]),a("div",{staticClass:"modal-body"},t._l(t.appConfig,(function(e,s){return a("div",{key:s,staticClass:"form-group row"},[a("label",{staticClass:"col-sm-6 col-form-label",class:{"text-danger":t.missingKeys.includes(s)},attrs:{for:s}},[t._v(" "+t._s(s)+" ")]),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.appConfig[s],expression:"appConfig[key]"}],staticClass:"form-control",class:{"is-invalid":t.missingKeys.includes(s)},attrs:{type:"text",id:s},domProps:{value:t.appConfig[s]},on:{input:function(e){e.target.composing||t.$set(t.appConfig,s,e.target.value)}}})])])})),0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveConfig}},[t._v("Save changes")])])])])])],1)},X=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],V={data:function(){return{appConfig:{name:"Mini-capstone",domain:"http://localhost:3000",productsUrl:"/products",productsIdKey:"id",productsNameKey:"name",productsPriceKey:"price",productsImagesKey:"images",productsDescriptionKey:"description",imagesUrl:"/images",imagesIdKey:"id",imagesUrlKey:"url",suppliersUrl:"/suppliers",suppliersIdKey:"id",suppliersNameKey:"name"},missingKeys:[],errorMessage:"",searchTerms:""}},created:function(){this.configureFromLocalStorage()},methods:{configureFromLocalStorage:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){var a=localStorage.getItem(e);null===a?localStorage.setItem(e,t.appConfig[e]):t.appConfig[e]=a}))},showError:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a={0:"Failed to connect (check if server is running with CORS configured)",200:"JSON doesn't match (configure keys below)",401:"Unauthorized for this page",404:"Route does not exist",500:"Code is crashing on server"};this.errorMessage=a[e]||"Unknown error",this.missingKeys=t,$("#errorModal").modal("show")},saveConfig:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){localStorage.setItem(e,t.appConfig[e])})),location.reload()},submitSearch:function(){var t=this.searchTerms;this.searchTerms="",this.$router.push({name:"exercise3-products-index",query:{search:t}})}},computed:{}},Y=V,Z=(a("d22f"),Object(d["a"])(Y,W,X,!1,null,null,null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Products")]),a("div",{staticClass:"card-columns"},t._l(t.products,(function(e){return a("div",{key:e.id,staticClass:"card"},[a("img",{staticClass:"card-img-top",attrs:{src:t.getPrimaryImage(e),alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),a("h6",[t._v(t._s(e.price))]),a("p",{staticClass:"card-text"},[t._v(t._s(t._f("truncate")(e.description)))]),a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"exercise3-products-show",params:{id:e.id}},append:""}},[t._v(" More info ")])],1)])})),0)])])},at=[],st=(a("1276"),a("ac1f"),{mixins:[D],props:["appConfig"],data:function(){return{products:[],schema:{type:"array",items:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImagesKey:{alias:"images",type:"array",items:{type:"object",properties:{imagesUrlKey:{alias:"url",type:"string"}}}}}}}}},created:function(){this.requestProducts()},beforeRouteUpdate:function(t,e,a){a(),this.requestProducts()},methods:{requestProducts:function(){var t=this,e=this.$route.fullPath.split("?").length>1?"?"+this.$route.fullPath.split("?")[1]:"";i["a"].get(this.appConfig.domain+this.appConfig.productsUrl+e).then((function(e){t.products=t.formatDataToSchema(e.data)||t.products})).catch((function(e){console.log(e),t.$emit("showError",["domain","productsUrl"],e.request.status)}))},getPrimaryImage:function(t){return t.images.length>0?t.images[0].url:"http://www.pinnacleeducations.in/wp-content/uploads/2017/05/no-image.jpg"}},filters:{truncate:function(t){if(null===t)return"(No description provided)";var e=120;return t.length<e?t:t.substring(0,e-3)+"..."}}}),rt=st,ot=Object(d["a"])(rt,et,at,!1,null,null,null),it=ot.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[a("ol",{staticClass:"carousel-indicators"},t._l(t.product.images,(function(t,e){return a("li",{key:e,class:{active:0===e},attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":e}})})),0),a("div",{staticClass:"carousel-inner"},t._l(t.product.images,(function(t,e){return a("div",{key:e,class:{"carousel-item":!0,active:0===e}},[a("div",{staticClass:"img",style:"background-image:url("+t.url+");"})])})),0),t._m(0),t._m(1)])]),a("div",{staticClass:"col-md-9"},[a("h1",[t._v(t._s(t.product.name))]),a("p",{staticClass:"lead"},[t._v(t._s(t.product.description))]),a("table",{staticClass:"table table-hover"},[a("tbody",t._l(t.originalProductData,(function(e,s){return a("tr",{key:s},[a("td",[a("small",[t._v(t._s(s))])]),a("td",[a("small",[t._v(t._s(e))])])])})),0)]),a("router-link",{staticClass:"btn btn-primary mr-1",attrs:{to:{name:"exercise3-products-edit",params:{id:t.product.id}}}},[t._v(" Edit product ")]),a("button",{staticClass:"btn btn-warning mr-1",attrs:{type:"button","data-toggle":"modal","data-target":"#deleteModal"}},[t._v(" Delete product ")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise3-products-index"}}},[t._v(" Back to all products ")])],1)])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v("Are you sure you want to delete this product? This action cannot be undone.")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.deleteProduct(t.product)}}},[t._v("Delete")])])])])])])},lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Confirm delete")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],ct={mixins:[D],props:["appConfig"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImagesKey:{alias:"images",type:"array",items:{type:"object",properties:{imagesUrlKey:{alias:"url",type:"string"}}}}}},originalProductData:{},errors:[]}},created:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product,t.originalProductData=e.data})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;console.log("delete",t),i["a"].delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){console.log(t),$("#deleteModal").modal("hide"),e.$router.push({name:"exercise3-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))}}},pt=ct,dt=(a("01c9"),Object(d["a"])(pt,nt,lt,!1,null,null,null)),ut=dt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data sending to")]),t._v(" : POST "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+" ")]),t._m(0),a("br"),a("p",[t._v(" Note: If GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.suppliersUrl)+" exists, it will be used to display suppliers as a dropdown using the "+t._s(t.appConfig.suppliersNameKey)+" key! ")])])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("New product")]),a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Image url:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.image_url,expression:"image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.image_url},on:{input:function(e){e.target.composing||(t.image_url=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t.suppliers.length>0?a("div",{staticClass:"form-group"},[a("label",[t._v("Supplier:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.supplier_id,expression:"supplier_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.supplier_id=e.target.multiple?a:a[0]}}},t._l(t.suppliers,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]):a("div",{staticClass:"form-group"},[a("label",[t._v("Supplier id:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.supplier_id,expression:"supplier_id"}],staticClass:"form-control",attrs:{type:"number",min:"1"},domProps:{value:t.supplier_id},on:{input:function(e){e.target.composing||(t.supplier_id=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise3-products-index"}}},[t._v("Cancel")])],1)])])},vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(" : "),a("strong",[t._v("name")]),t._v(" , "),a("strong",[t._v("price")]),t._v(" , "),a("strong",[t._v("image_url")]),t._v(" , "),a("strong",[t._v("description")]),t._v(" , "),a("strong",[t._v("supplier_id")])])}],ft={data:function(){return{name:"",price:"",image_url:"",description:"",supplier_id:"",suppliers:[],errors:[]}},props:["appConfig"],created:function(){this.requestSuppliers()},methods:{requestSuppliers:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.suppliersUrl).then((function(e){var a=!0;e.data.forEach((function(e){var s=e[t.appConfig.suppliersIdKey],r=e[t.appConfig.suppliersNameKey];void 0!==s&&void 0!==r||(a=!1)})),a&&(t.suppliers=e.data)}))},submit:function(){var t=this,e={name:this.name,price:this.price,image_url:this.image_url,description:this.description,supplier_id:this.supplier_id};i["a"].post(this.appConfig.domain+this.appConfig.productsUrl,e).then((function(e){t.$router.push({name:"exercise3-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},gt=ft,ht=Object(d["a"])(gt,mt,vt,!1,null,null,null),_t=ht.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("br"),a("p",[a("strong",[t._v("Data sending to")]),t._v(" : PATCH "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id)+" ")]),t._m(0)])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Edit product")]),a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise3-products-show",params:{id:t.product.id}}}},[t._v(" Cancel ")])],1)])])},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(" : "),a("strong",[t._v("name")]),t._v(" , "),a("strong",[t._v("price")]),t._v(" , "),a("strong",[t._v("description")]),t._v(" (can't edit images or supplier) ")])}],yt={mixins:[D],props:["appConfig"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"}}},errors:[]}},created:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{submit:function(){var t=this,e={name:this.product.name,price:this.product.price,description:this.product.description};i["a"].patch(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id,e).then((function(e){t.$router.push({name:"exercise3-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},xt=yt,wt=Object(d["a"])(xt,Ct,bt,!1,null,null,null),Pt=wt.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"exercise4-products-index"}}},[t._v(t._s(t.appConfig.name))]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise4-products-index"}}},[t._v("All products")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise4-products-new"}}},[t._v("New product")])],1),t._m(1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise4-orders-index"}}},[t._v("Orders")])],1),t._m(2),t.loggedIn()?t._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise4-signup"}}},[t._v("Signup")])],1),t.loggedIn()?t._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise4-login"}}},[t._v("Login")])],1),t.loggedIn()?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise4-logout"}}},[t._v("Logout")])],1):t._e()])])],1),a("router-view",{attrs:{appConfig:t.appConfig},on:{showError:t.showError}}),a("div",{staticClass:"modal fade",attrs:{id:"errorModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Error: "+t._s(t.errorMessage))]),t._m(3)]),a("div",{staticClass:"modal-body"},t._l(t.appConfig,(function(e,s){return a("div",{key:s,staticClass:"form-group row"},[a("label",{staticClass:"col-sm-6 col-form-label",class:{"text-danger":t.missingKeys.includes(s)},attrs:{for:s}},[t._v(" "+t._s(s)+" ")]),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.appConfig[s],expression:"appConfig[key]"}],staticClass:"form-control",class:{"is-invalid":t.missingKeys.includes(s)},attrs:{type:"text",id:s},domProps:{value:t.appConfig[s]},on:{input:function(e){e.target.composing||t.$set(t.appConfig,s,e.target.value)}}})])])})),0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveConfig}},[t._v("Save changes")])])])])])],1)},$t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link disabled"},[t._v("|")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link disabled"},[t._v("|")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],kt={data:function(){return{appConfig:{name:"Mini-capstone",domain:"http://localhost:3000",productsUrl:"/products",productsIdKey:"id",productsNameKey:"name",productsPriceKey:"price",productsImagesKey:"images",productsDescriptionKey:"description",imagesUrl:"/images",imagesIdKey:"id",imagesUrlKey:"url",suppliersUrl:"/suppliers",suppliersIdKey:"id",suppliersNameKey:"name",ordersUrl:"/orders",ordersIdKey:"id",ordersQuantityKey:"quantity",ordersSubtotalKey:"subtotal",ordersTaxKey:"tax",ordersTotalKey:"total",ordersProductKey:"product"},missingKeys:[],errorMessage:"",searchTerms:""}},created:function(){this.configureFromLocalStorage()},methods:{configureFromLocalStorage:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){var a=localStorage.getItem(e);null===a?localStorage.setItem(e,t.appConfig[e]):t.appConfig[e]=a}))},showError:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a={0:"Failed to connect (check if server is running with CORS configured)",200:"JSON doesn't match (configure keys below)",401:"Unauthorized for this page",404:"Route does not exist",500:"Code is crashing on server"};this.errorMessage=a[e]||"Unknown error",this.missingKeys=t,$("#errorModal").modal("show")},saveConfig:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){localStorage.setItem(e,t.appConfig[e])})),location.reload()},submitSearch:function(){var t=this.searchTerms;this.searchTerms="",this.$router.push({name:"exercise4-products-index",query:{search:t}})},loggedIn:function(){return!!localStorage.getItem("jwt")}},computed:{}},It=kt,Kt=(a("5b80"),Object(d["a"])(It,Dt,$t,!1,null,null,null)),Et=Kt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Products")]),a("div",{staticClass:"card-columns"},t._l(t.products,(function(e){return a("div",{key:e.id,staticClass:"card"},[a("img",{staticClass:"card-img-top",attrs:{src:t.getPrimaryImage(e),alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),a("h6",[t._v(t._s(e.price))]),a("p",{staticClass:"card-text"},[t._v(t._s(t._f("truncate")(e.description)))]),a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"exercise4-products-show",params:{id:e.id}},append:""}},[t._v(" More info ")])],1)])})),0)])])},Ut=[],Nt={mixins:[D],props:["appConfig"],data:function(){return{products:[],schema:{type:"array",items:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImagesKey:{alias:"images",type:"array",items:{type:"object",properties:{imagesUrlKey:{alias:"url",type:"string"}}}}}}}}},created:function(){this.requestProducts()},beforeRouteUpdate:function(t,e,a){a(),this.requestProducts()},methods:{requestProducts:function(){var t=this,e=this.$route.fullPath.split("?").length>1?"?"+this.$route.fullPath.split("?")[1]:"";i["a"].get(this.appConfig.domain+this.appConfig.productsUrl+e).then((function(e){t.products=t.formatDataToSchema(e.data)||t.products})).catch((function(e){console.log(e),t.$emit("showError",["domain","productsUrl"],e.request.status)}))},getPrimaryImage:function(t){return t.images.length>0?t.images[0].url:"http://www.pinnacleeducations.in/wp-content/uploads/2017/05/no-image.jpg"}},filters:{truncate:function(t){if(null===t)return"(No description provided)";var e=120;return t.length<e?t:t.substring(0,e-3)+"..."}}},jt=Nt,Tt=Object(d["a"])(jt,St,Ut,!1,null,null,null),Ot=Tt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[a("ol",{staticClass:"carousel-indicators"},t._l(t.product.images,(function(t,e){return a("li",{key:e,class:{active:0===e},attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":e}})})),0),a("div",{staticClass:"carousel-inner"},t._l(t.product.images,(function(t,e){return a("div",{key:e,class:{"carousel-item":!0,active:0===e}},[a("div",{staticClass:"img",style:"background-image:url("+t.url+");"})])})),0),t._m(0),t._m(1)]),a("div",{staticClass:"card mt-4"},[a("div",{staticClass:"card-body"},[a("form",{staticClass:"mb-4",on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("label",[t._v("Quantity:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),a("input",{staticClass:"btn btn-primary mt-2",attrs:{type:"submit",value:"Buy now!"}})])])])]),a("div",{staticClass:"col-md-9"},[a("h1",[t._v(t._s(t.product.name))]),a("p",{staticClass:"lead"},[t._v(t._s(t.product.description))]),a("table",{staticClass:"table table-hover"},[a("tbody",t._l(t.originalProductData,(function(e,s){return a("tr",{key:s},[a("td",[a("small",[t._v(t._s(s))])]),a("td",[a("small",[t._v(t._s(e))])])])})),0)]),a("router-link",{staticClass:"btn btn-primary mr-1",attrs:{to:{name:"exercise4-products-edit",params:{id:t.product.id}}}},[t._v(" Edit product ")]),a("button",{staticClass:"btn btn-warning mr-1",attrs:{type:"button","data-toggle":"modal","data-target":"#deleteModal"}},[t._v(" Delete product ")]),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise4-products-index"}}},[t._v(" Back to all products ")])],1)])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v("Are you sure you want to delete this product? This action cannot be undone.")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.deleteProduct(t.product)}}},[t._v("Delete")])])])])])])},qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Confirm delete")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Lt={mixins:[D],props:["appConfig"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImagesKey:{alias:"images",type:"array",items:{type:"object",properties:{imagesUrlKey:{alias:"url",type:"string"}}}}}},originalProductData:{},quantity:null,errors:[]}},created:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product,t.originalProductData=e.data})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;console.log("delete",t),i["a"].delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){console.log(t),$("#deleteModal").modal("hide"),e.$router.push({name:"exercise4-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))},submit:function(){var t=this,e={product_id:this.$route.params.id,quantity:this.quantity};i["a"].post(this.appConfig.domain+this.appConfig.ordersUrl,e).then((function(e){t.quantity=null,t.$router.push({name:"exercise4-orders-show",params:{id:e.data.id}})}))}}},At=Lt,Ht=(a("0389"),Object(d["a"])(At,Mt,qt,!1,null,null,null)),Gt=Ht.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data sending to")]),t._v(" : POST "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+" ")]),t._m(0),a("br"),a("p",[t._v(" Note: If GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.suppliersUrl)+" exists, it will be used to display suppliers as a dropdown using the "+t._s(t.appConfig.suppliersNameKey)+" key! ")])])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("New product")]),a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Image url:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.image_url,expression:"image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.image_url},on:{input:function(e){e.target.composing||(t.image_url=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t.suppliers.length>0?a("div",{staticClass:"form-group"},[a("label",[t._v("Supplier:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.supplier_id,expression:"supplier_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.supplier_id=e.target.multiple?a:a[0]}}},t._l(t.suppliers,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]):a("div",{staticClass:"form-group"},[a("label",[t._v("Supplier id:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.supplier_id,expression:"supplier_id"}],staticClass:"form-control",attrs:{type:"number",min:"1"},domProps:{value:t.supplier_id},on:{input:function(e){e.target.composing||(t.supplier_id=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise4-products-index"}}},[t._v("Cancel")])],1)])])},Ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(" : "),a("strong",[t._v("name")]),t._v(" , "),a("strong",[t._v("price")]),t._v(" , "),a("strong",[t._v("image_url")]),t._v(" , "),a("strong",[t._v("description")]),t._v(" , "),a("strong",[t._v("supplier_id")])])}],Qt={data:function(){return{name:"",price:"",image_url:"",description:"",supplier_id:"",suppliers:[],errors:[]}},props:["appConfig"],created:function(){this.requestSuppliers()},methods:{requestSuppliers:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.suppliersUrl).then((function(e){var a=!0;e.data.forEach((function(e){var s=e[t.appConfig.suppliersIdKey],r=e[t.appConfig.suppliersNameKey];void 0!==s&&void 0!==r||(a=!1)})),a&&(t.suppliers=e.data)}))},submit:function(){var t=this,e={name:this.name,price:this.price,image_url:this.image_url,description:this.description,supplier_id:this.supplier_id};i["a"].post(this.appConfig.domain+this.appConfig.productsUrl,e).then((function(e){t.$router.push({name:"exercise4-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},Bt=Qt,zt=Object(d["a"])(Bt,Rt,Ft,!1,null,null,null),Jt=zt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("br"),a("p",[a("strong",[t._v("Data sending to")]),t._v(" : PATCH "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id)+" ")]),t._m(0)])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Edit product")]),a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise4-products-show",params:{id:t.product.id}}}},[t._v(" Cancel ")])],1)])])},Xt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(" : "),a("strong",[t._v("name")]),t._v(" , "),a("strong",[t._v("price")]),t._v(" , "),a("strong",[t._v("description")]),t._v(" (can't edit images or supplier) ")])}],Vt={mixins:[D],props:["appConfig"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"}}},errors:[]}},created:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{submit:function(){var t=this,e={name:this.product.name,price:this.product.price,description:this.product.description};i["a"].patch(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id,e).then((function(e){t.$router.push({name:"exercise4-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},Yt=Vt,Zt=Object(d["a"])(Yt,Wt,Xt,!1,null,null,null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.ordersUrl)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Orders")]),0===t.orders.length?a("p",[t._v("No orders placed yet!")]):a("table",{staticClass:"table table-hover"},[t._m(0),a("tbody",t._l(t.orders,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(e.product.name))]),a("td",[t._v(t._s(e.quantity))]),a("td",[t._v(t._s(e.subtotal))]),a("td",[t._v(t._s(e.tax))]),a("td",[t._v(t._s(e.total))]),a("td",[a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"exercise4-orders-show",params:{id:e.id}},append:""}},[t._v(" More info ")])],1)])})),0)])])])},ae=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product")]),a("th",[t._v("Quantity")]),a("th",[t._v("Subtotal")]),a("th",[t._v("Tax")]),a("th",[t._v("Total")]),a("th")])])}],se={mixins:[D],props:["appConfig"],data:function(){return{orders:[],schema:{type:"array",items:{type:"object",properties:{ordersIdKey:{alias:"id",type:"integer"},ordersQuantityKey:{alias:"quantity",type:"integer"},ordersSubtotalKey:{alias:"subtotal",type:"number"},ordersTaxKey:{alias:"tax",type:"number"},ordersTotalKey:{alias:"total",type:"number"},ordersProductKey:{alias:"product",type:"object",properties:{productsNameKey:{alias:"name",type:"string"}}}}}}}},created:function(){this.requestOrders()},methods:{requestOrders:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.ordersUrl).then((function(e){t.orders=t.formatDataToSchema(e.data)||t.orders})).catch((function(e){console.log(e),t.$emit("showError",["domain","ordersUrl"],e.request.status)}))}}},re=se,oe=Object(d["a"])(re,ee,ae,!1,null,null,null),ie=oe.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.ordersUrl)+"/"+t._s(t.$route.params.id)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Order info")]),a("table",{staticClass:"table table-hover"},[t._m(0),a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Product")]),a("td",[t._v(t._s(t.order.product.name))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Quantity")]),a("td",[t._v(t._s(t.order.quantity))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Subtotal")]),a("td",[t._v(t._s(t.order.subtotal))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Tax")]),a("td",[t._v(t._s(t.order.tax))])]),a("tr",[a("th",{attrs:{scope:"row"}},[t._v("Total")]),a("td",[t._v(t._s(t.order.total))])])])]),a("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"exercise4-products-index"}}},[t._v("Back to all products")])],1)])},le=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("colgroup",[a("col",{staticStyle:{width:"15%"},attrs:{span:"1"}}),a("col",{staticStyle:{width:"85%"},attrs:{span:"1"}})])}],ce={mixins:[D],props:["appConfig"],data:function(){return{order:{id:0,product:{}},schema:{type:"object",properties:{ordersIdKey:{alias:"id",type:"integer"},ordersQuantityKey:{alias:"quantity",type:"integer"},ordersSubtotalKey:{alias:"subtotal",type:"number"},ordersTaxKey:{alias:"tax",type:"number"},ordersTotalKey:{alias:"total",type:"number"},ordersProductKey:{alias:"product",type:"object",properties:{productsNameKey:{alias:"name",type:"string"}}}}}}},created:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.ordersUrl+"/"+this.$route.params.id).then((function(e){t.order=t.formatDataToSchema(e.data)||t.order})).catch((function(e){t.$emit("showError",["domain","ordersUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;console.log("delete",t),i["a"].delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){console.log(t),$("#deleteModal").modal("hide"),e.$router.push({name:"exercise4-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))},submit:function(){var t=this,e={product_id:this.$route.params.id,quantity:this.quantity};i["a"].post(this.appConfig.domain+this.appConfig.ordersUrl,e).then((function(e){console.log(e),t.quantity=null,t.$router.push({name:"exercise4-orders-show"})}))}}},pe=ce,de=(a("cce6"),Object(d["a"])(pe,ne,le,!1,null,null,null)),ue=de.exports,me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"signup"},[a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Signup")]),a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password confirmation:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.passwordConfirmation},on:{input:function(e){e.target.composing||(t.passwordConfirmation=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},ve=[],fe={data:function(){return{name:"",email:"",password:"",passwordConfirmation:"",errors:[]}},methods:{submit:function(){var t=this,e={name:this.name,email:this.email,password:this.password,password_confirmation:this.passwordConfirmation};i["a"].post("http://localhost:3000/users",e).then((function(e){console.log(e),t.$router.push({name:"exercise4-login"})})).catch((function(e){t.errors=e.response.data.errors}))}}},ge=fe,he=Object(d["a"])(ge,me,ve,!1,null,null,null),_e=he.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Login")]),a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},be=[],ye={template:"#login-page",data:function(){return{email:"",password:"",errors:[]}},methods:{submit:function(){var t=this,e={email:this.email,password:this.password};i["a"].post("http://localhost:3000/sessions",e).then((function(e){i["a"].defaults.headers.common["Authorization"]="Bearer "+e.data.jwt,localStorage.setItem("jwt",e.data.jwt),t.$router.push({name:"exercise4-products-index"})})).catch((function(e){console.log(e),t.errors=["Invalid email or password."],t.email="",t.password=""}))}}},xe=ye,we=Object(d["a"])(xe,Ce,be,!1,null,null,null),Pe=we.exports,De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logout"})},$e=[],ke={created:function(){delete i["a"].defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),i["a"].delete("http://localhost:3000/sessions"),this.$router.push({name:"exercise4-products-index"})}},Ie=ke,Ke=Object(d["a"])(Ie,De,$e,!1,null,null,null),Ee=Ke.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"exercise5-products-index"}}},[t._v(t._s(t.appConfig.name))]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-products-index"}}},[t._v("All products")])],1),t.isAdmin()?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-products-new"}}},[t._v("New product")])],1):t._e(),t.loggedIn()?a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link disabled"},[t._v("|")])]):t._e(),t.loggedIn()?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-carted-products-index"}}},[t._v("Shopping Cart")])],1):t._e(),t.loggedIn()?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-orders-index"}}},[t._v("Orders")])],1):t._e(),t._m(1),t.loggedIn()?t._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-signup"}}},[t._v("Signup")])],1),t.loggedIn()?t._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-login"}}},[t._v("Login")])],1),t.loggedIn()?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"exercise5-logout"}}},[t._v("Logout")])],1):t._e()])])],1),a("router-view",{attrs:{appConfig:t.appConfig,isAdmin:t.isAdmin},on:{showError:t.showError}}),a("div",{staticClass:"modal fade",attrs:{id:"errorModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Error: "+t._s(t.errorMessage))]),t._m(2)]),a("div",{staticClass:"modal-body"},t._l(t.appConfig,(function(e,s){return a("div",{key:s,staticClass:"form-group row"},[a("label",{staticClass:"col-sm-6 col-form-label",class:{"text-danger":t.missingKeys.includes(s)},attrs:{for:s}},[t._v(" "+t._s(s)+" ")]),a("div",{staticClass:"col-sm-6"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.appConfig[s],expression:"appConfig[key]"}],staticClass:"form-control",class:{"is-invalid":t.missingKeys.includes(s)},attrs:{type:"text",id:s},domProps:{value:t.appConfig[s]},on:{input:function(e){e.target.composing||t.$set(t.appConfig,s,e.target.value)}}})])])})),0),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.saveConfig}},[t._v("Save changes")])])])])])],1)},Ue=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item"},[a("span",{staticClass:"nav-link disabled"},[t._v("|")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],Ne={data:function(){return{appConfig:{name:"Mini-capstone",domain:"http://localhost:3000",productsUrl:"/products",productsIdKey:"id",productsNameKey:"name",productsPriceKey:"price",productsImagesKey:"images",productsDescriptionKey:"description",imagesUrl:"/images",imagesIdKey:"id",imagesUrlKey:"url",suppliersUrl:"/suppliers",suppliersIdKey:"id",suppliersNameKey:"name",cartedProductsUrl:"/carted_products",cartedProductsIdKey:"id",cartedProductsQuantityKey:"quantity",cartedProductsProductKey:"product",ordersUrl:"/orders",ordersIdKey:"id",ordersCartedProductsKey:"carted_products",ordersSubtotalKey:"subtotal",ordersTaxKey:"tax",ordersTotalKey:"total"},missingKeys:[],errorMessage:"",searchTerms:""}},created:function(){this.configureFromLocalStorage()},methods:{configureFromLocalStorage:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){var a=localStorage.getItem(e);null===a?localStorage.setItem(e,t.appConfig[e]):t.appConfig[e]=a}))},showError:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,a={0:"Failed to connect (check if server is running with CORS configured)",200:"JSON doesn't match (configure keys below)",401:"Unauthorized for this page",404:"Route does not exist",500:"Code is crashing on server"};this.errorMessage=a[e]||"Unknown error",this.missingKeys=t,$("#errorModal").modal("show")},saveConfig:function(){var t=this;Object.keys(this.appConfig).forEach((function(e){localStorage.setItem(e,t.appConfig[e])})),location.reload()},submitSearch:function(){var t=this.searchTerms;this.searchTerms="",this.$router.push({name:"exercise5-products-index",query:{search:t}})},loggedIn:function(){return!!localStorage.getItem("jwt")},isAdmin:function(){return"true"===localStorage.getItem("admin")}},computed:{}},je=Ne,Te=(a("c581"),Object(d["a"])(je,Se,Ue,!1,null,null,null)),Oe=Te.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("br"),a("p",[t._v(' Note: If a "categories" key exists (where each category has a key of "name"), it will be used to display category links for each product! ')])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Products")]),a("div",{staticClass:"card-columns"},t._l(t.products,(function(e){return a("div",{key:e.id,staticClass:"card"},[a("img",{staticClass:"card-img-top",attrs:{src:t.getPrimaryImage(e),alt:"Card image cap"}}),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),t._l(e.categories,(function(e){return a("router-link",{key:e.id,staticClass:"d-inline-block mr-2 mb-3",attrs:{to:{name:"exercise5-products-index",query:{category:e.name}},append:""}},[t._v(" "+t._s(e.name)+" ")])})),a("h6",[t._v(t._s(e.price))]),a("p",{staticClass:"card-text"},[t._v(t._s(t._f("truncate")(e.description)))]),a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"exercise5-products-show",params:{id:e.id}},append:""}},[t._v(" More info ")])],2)])})),0)])])},qe=[],Le={mixins:[D],props:["appConfig","showError"],data:function(){return{products:[],schema:{type:"array",items:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImagesKey:{alias:"images",type:"array",items:{type:"object",properties:{imagesUrlKey:{alias:"url",type:"string"}}}}}}}}},created:function(){this.requestProducts()},beforeRouteUpdate:function(t,e,a){a(),this.requestProducts()},methods:{requestProducts:function(){var t=this,e=this.$route.fullPath.split("?").length>1?"?"+this.$route.fullPath.split("?")[1]:"";i["a"].get(this.appConfig.domain+this.appConfig.productsUrl+e).then((function(e){t.products=t.formatDataToSchema(e.data)||t.products})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},getPrimaryImage:function(t){return t.images.length>0?t.images[0].url:"http://www.pinnacleeducations.in/wp-content/uploads/2017/05/no-image.jpg"}},filters:{truncate:function(t){if(null===t)return"(No description provided)";var e=120;return t.length<e?t:t.substring(0,e-3)+"..."}}},Ae=Le,He=Object(d["a"])(Ae,Me,qe,!1,null,null,null),Ge=He.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("p",{staticClass:"mt-4"},[t._v(' Note: When you create a new session, if you send an "admin" key with a value of true or false, the app will only show admin specific features to admins! ')])])]),a("div",{staticClass:"container"},[a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[a("ol",{staticClass:"carousel-indicators"},t._l(t.product.images,(function(t,e){return a("li",{key:e,class:{active:0===e},attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":e}})})),0),a("div",{staticClass:"carousel-inner"},t._l(t.product.images,(function(t,e){return a("div",{key:e,class:{"carousel-item":!0,active:0===e}},[a("div",{staticClass:"img",style:"background-image:url("+t.url+");"})])})),0),t._m(0),t._m(1)]),a("div",{staticClass:"card mt-4"},[a("div",{staticClass:"card-body"},[a("form",{staticClass:"mb-4",on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("label",[t._v("Quantity:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.quantity},on:{input:function(e){e.target.composing||(t.quantity=e.target.value)}}}),a("input",{staticClass:"btn btn-primary mt-2",attrs:{type:"submit",value:"Add to cart!"}})])])])]),a("div",{staticClass:"col-md-9"},[a("h1",[t._v(t._s(t.product.name))]),a("p",{staticClass:"lead"},[t._v(t._s(t.product.description))]),a("table",{staticClass:"table table-hover"},[a("tbody",t._l(t.originalProductData,(function(e,s){return a("tr",{key:s},[a("td",[a("small",[t._v(t._s(s))])]),a("td",[a("small",[t._v(t._s(e))])])])})),0)]),t.isAdmin()?a("router-link",{staticClass:"btn btn-primary mr-1",attrs:{to:{name:"exercise5-products-edit",params:{id:t.product.id}}}},[t._v(" Edit product ")]):t._e(),t.isAdmin()?a("button",{staticClass:"btn btn-warning mr-1",attrs:{type:"button","data-toggle":"modal","data-target":"#deleteModal"}},[t._v(" Delete product ")]):t._e(),a("router-link",{staticClass:"btn btn-light",attrs:{to:{name:"exercise5-products-index"}}},[t._v(" Back to all products ")])],1)])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[t._v("Are you sure you want to delete this product? This action cannot be undone.")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.deleteProduct(t.product)}}},[t._v("Delete")])])])])])])},Fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Confirm delete")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],Qe={mixins:[D],props:["appConfig","isAdmin"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"},productsImagesKey:{alias:"images",type:"array",items:{type:"object",properties:{imagesUrlKey:{alias:"url",type:"string"}}}}}},originalProductData:{},quantity:null,errors:[]}},created:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product,t.originalProductData=e.data})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;console.log("delete",t),i["a"].delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){console.log(t),$("#deleteModal").modal("hide"),e.$router.push({name:"exercise5-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))},submit:function(){var t=this,e={product_id:this.$route.params.id,quantity:this.quantity};i["a"].post(this.appConfig.domain+this.appConfig.cartedProductsUrl,e).then((function(e){console.log(e),t.quantity=null,t.$router.push({name:"exercise5-carted-products-index"})})).catch((function(e){e.response&&401===e.response.status&&t.$router.push({name:"exercise5-login"})}))}}},Be=Qe,ze=(a("d8ba"),Object(d["a"])(Be,Re,Fe,!1,null,null,null)),Je=ze.exports,We=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data sending to")]),t._v(" : POST "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+" ")]),t._m(0),a("br"),a("p",[t._v(" Note: If GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.suppliersUrl)+" exists, it will be used to display suppliers as a dropdown using the "+t._s(t.appConfig.suppliersNameKey)+" key! ")])])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("New product")]),a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Image url:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.image_url,expression:"image_url"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.image_url},on:{input:function(e){e.target.composing||(t.image_url=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t.suppliers.length>0?a("div",{staticClass:"form-group"},[a("label",[t._v("Supplier:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.supplier_id,expression:"supplier_id"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.supplier_id=e.target.multiple?a:a[0]}}},t._l(t.suppliers,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)]):a("div",{staticClass:"form-group"},[a("label",[t._v("Supplier id:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.supplier_id,expression:"supplier_id"}],staticClass:"form-control",attrs:{type:"number",min:"1"},domProps:{value:t.supplier_id},on:{input:function(e){e.target.composing||(t.supplier_id=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise5-products-index"}}},[t._v("Cancel")])],1)])])},Xe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(" : "),a("strong",[t._v("name")]),t._v(" , "),a("strong",[t._v("price")]),t._v(" , "),a("strong",[t._v("image_url")]),t._v(" , "),a("strong",[t._v("description")]),t._v(" , "),a("strong",[t._v("supplier_id")])])}],Ve={data:function(){return{name:"",price:"",image_url:"",description:"",supplier_id:"",suppliers:[],errors:[]}},props:["appConfig","isAdmin"],created:function(){this.isAdmin()?this.requestSuppliers():this.$router.push({name:"exercise5-login"})},methods:{requestSuppliers:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.suppliersUrl).then((function(e){var a=!0;e.data.forEach((function(e){var s=e[t.appConfig.suppliersIdKey],r=e[t.appConfig.suppliersNameKey];void 0!==s&&void 0!==r||(a=!1)})),a&&(t.suppliers=e.data)}))},submit:function(){var t=this,e={name:this.name,price:this.price,image_url:this.image_url,description:this.description,supplier_id:this.supplier_id};i["a"].post(this.appConfig.domain+this.appConfig.productsUrl,e).then((function(e){t.$router.push({name:"exercise5-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},Ye=Ve,Ze=Object(d["a"])(Ye,We,Xe,!1,null,null,null),ta=Ze.exports,ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})]),a("br"),a("p",[a("strong",[t._v("Data sending to")]),t._v(" : PATCH "+t._s(t.appConfig.domain)+t._s(t.appConfig.productsUrl)+"/"+t._s(t.$route.params.id)+" ")]),t._m(0)])]),a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Edit product")]),a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Price:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Description:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("input",{staticClass:"btn btn-primary mr-1",attrs:{type:"submit",value:"Submit"}}),a("router-link",{staticClass:"btn btn-secondary",attrs:{to:{name:"exercise5-products-show",params:{id:t.product.id}}}},[t._v(" Cancel ")])],1)])])},aa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("strong",[t._v("Using params")]),t._v(" : "),a("strong",[t._v("name")]),t._v(" , "),a("strong",[t._v("price")]),t._v(" , "),a("strong",[t._v("description")]),t._v(" (can't edit images or supplier) ")])}],sa={mixins:[D],props:["appConfig","isAdmin"],data:function(){return{product:{id:0},schema:{type:"object",properties:{productsIdKey:{alias:"id",type:"integer"},productsNameKey:{alias:"name",type:"string"},productsPriceKey:{alias:"price",type:"number"},productsDescriptionKey:{alias:"description",type:"string"}}},errors:[]}},created:function(){var t=this;this.isAdmin()?i["a"].get(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id).then((function(e){t.product=t.formatDataToSchema(e.data)||t.product})).catch((function(e){t.$emit("showError",["domain","productsUrl"],e.request.status)})):this.$router.push({name:"exercise5-login"})},methods:{submit:function(){var t=this,e={name:this.product.name,price:this.product.price,description:this.product.description};i["a"].patch(this.appConfig.domain+this.appConfig.productsUrl+"/"+this.$route.params.id,e).then((function(e){t.$router.push({name:"exercise5-products-show",params:{id:e.data.id}})})).catch((function(e){t.errors=e.response.data.errors}))}}},ra=sa,oa=Object(d["a"])(ra,ea,aa,!1,null,null,null),ia=oa.exports,na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.cartedProductsUrl)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Shopping Cart")]),0===t.cartedProducts.length?a("div",[a("p",[t._v("Nothing in shopping cart!")]),a("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"exercise5-products-index"}}},[t._v("All products")])],1):a("div",[t._l(t.cartedProducts,(function(e){return a("div",{key:e.id},[a("h2",[t._v("Product: "+t._s(e.product.name))]),a("p",[t._v("Quantity: "+t._s(e.quantity))]),a("p",[t._v("Price: "+t._s(e.product.price))])])})),a("router-link",{staticClass:"btn btn-primary mr-3",attrs:{to:{name:"exercise5-products-index"}}},[t._v(" Continue shopping ")]),a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.createOrder()}}},[t._v("Buy now!")])],2)])])},la=[],ca={mixins:[D],props:["appConfig"],data:function(){return{cartedProducts:[],schema:{type:"array",items:{type:"object",properties:{cartedProductsIdKey:{alias:"id",type:"integer"},cartedProductsQuantityKey:{alias:"quantity",type:"integer"},cartedProductsProductKey:{alias:"product",type:"object",properties:{productsNameKey:{alias:"name",type:"string"}}}}}}}},created:function(){this.requestCartedProducts()},methods:{requestCartedProducts:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.cartedProductsUrl).then((function(e){t.cartedProducts=t.formatDataToSchema(e.data)||t.cartedProducts})).catch((function(e){e.response&&401===e.response.status?t.$router.push({name:"exercise5-login"}):t.$emit("showError",["domain","cartedProductsUrl"],e.request.status)}))},createOrder:function(){var t=this;i["a"].post(this.appConfig.domain+this.appConfig.ordersUrl).then((function(e){t.$router.push({name:"exercise5-orders-show",params:{id:e.data.id}})})).catch((function(e){e.response&&401===e.response.status&&t.$router.push({name:"exercise5-login"})}))}}},pa=ca,da=Object(d["a"])(pa,na,la,!1,null,null,null),ua=da.exports,ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.ordersUrl)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Orders")]),0===t.orders.length?a("p",[t._v("No orders placed yet!")]):t._e(),t._l(t.orders,(function(e){return a("div",{key:e.id},[a("h4",[t._v("Order #"+t._s(e.id))]),a("hr"),t._l(e.cartedProducts,(function(e){return a("div",{key:e.id},[a("p",[t._v(" "+t._s(e.quantity)+" x "),e.product?a("span",[t._v(t._s(e.product.name))]):a("span",[t._v("Product id "+t._s(e.product_id))])])])})),a("hr"),a("p",[t._v("Subtotal: "+t._s(e.subtotal))]),a("p",[t._v("Tax: "+t._s(e.tax))]),a("p",[t._v("Total: "+t._s(e.total))]),a("br")],2)}))],2)])},va=[],fa={mixins:[D],props:["appConfig"],data:function(){return{orders:[],schema:{type:"array",items:{type:"object",properties:{ordersIdKey:{alias:"id",type:"integer"},ordersSubtotalKey:{alias:"subtotal",type:"number"},ordersTaxKey:{alias:"tax",type:"number"},ordersTotalKey:{alias:"total",type:"number"},ordersCartedProductsKey:{alias:"cartedProducts",type:"array",items:{type:"object",properties:{cartedProductsQuantityKey:{alias:"quantity",type:"integer"},cartedProductsProductKey:{alias:"product",type:"object",properties:{productsNameKey:{alias:"name",type:"string"}}}}}}}}}}},created:function(){this.requestOrders()},methods:{requestOrders:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.ordersUrl).then((function(e){t.orders=t.formatDataToSchema(e.data)||t.orders})).catch((function(e){e.response&&401===e.response.status?t.$router.push({name:"exercise5-login"}):t.$emit("showError",["domain","ordersUrl"],e.request.status)}))}}},ga=fa,ha=Object(d["a"])(ga,ma,va,!1,null,null,null),_a=ha.exports,Ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("a",{staticClass:"btn btn-outline-info m-3 float-right",attrs:{"data-toggle":"collapse",href:"#collapseDebugInfo",role:"button","aria-expanded":"false","aria-controls":"collapseDebugInfo"}},[t._v(" ⓘ ")]),a("div",{staticClass:"collapse",attrs:{id:"collapseDebugInfo"}},[a("div",{staticClass:"card card-body"},[a("p",[a("strong",[t._v("Data from")]),t._v(" : GET "+t._s(t.appConfig.domain)+t._s(t.appConfig.ordersUrl)+"/"+t._s(t.$route.params.id)+" ")]),a("p",[a("strong",[t._v("Data shape")]),t._v(" : "),a("span",{domProps:{innerHTML:t._s(t.wordifiedSchema)}})])])]),a("div",{staticClass:"container"},[a("h1",[t._v("Order #"+t._s(t.order.id))]),a("hr"),t._l(t.order.cartedProducts,(function(e){return a("div",{key:e.id},[a("p",[t._v(" "+t._s(e.quantity)+" x "),e.product?a("span",[t._v(t._s(e.product.name))]):a("span",[t._v("Product id "+t._s(e.product_id))])])])})),a("hr"),a("p",[t._v("Subtotal: "+t._s(t.order.subtotal))]),a("p",[t._v("Tax: "+t._s(t.order.tax))]),a("p",[t._v("Total: "+t._s(t.order.total))]),a("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"exercise5-products-index"}}},[t._v("Back to all products")])],2)])},ba=[],ya={mixins:[D],props:["appConfig"],data:function(){return{order:{id:0,product:{}},schema:{type:"object",properties:{ordersIdKey:{alias:"id",type:"integer"},ordersSubtotalKey:{alias:"subtotal",type:"number"},ordersTaxKey:{alias:"tax",type:"number"},ordersTotalKey:{alias:"total",type:"number"},ordersCartedProductsKey:{alias:"cartedProducts",type:"array",items:{type:"object",properties:{cartedProductsQuantityKey:{alias:"quantity",type:"integer"},cartedProductsProductKey:{alias:"product",type:"object",properties:{productsNameKey:{alias:"name",type:"string"}}}}}}}}}},created:function(){var t=this;i["a"].get(this.appConfig.domain+this.appConfig.ordersUrl+"/"+this.$route.params.id).then((function(e){t.order=t.formatDataToSchema(e.data)||t.order})).catch((function(e){e.response&&401===e.response.status?t.$router.push({name:"exercise5-login"}):t.$emit("showError",["domain","ordersUrl"],e.request.status)}))},methods:{deleteProduct:function(t){var e=this;console.log("delete",t),i["a"].delete(this.appConfig.domain+this.appConfig.productsUrl+"/"+t.id).then((function(t){console.log(t),$("#deleteModal").modal("hide"),e.$router.push({name:"exercise5-products-index"})})).catch((function(t){e.errors=t.response.data.errors}))},submit:function(){var t=this,e={product_id:this.$route.params.id,quantity:this.quantity};i["a"].post(this.appConfig.domain+this.appConfig.ordersUrl,e).then((function(e){console.log(e),t.quantity=null,t.$router.push({name:"exercise5-orders-show"})}))}}},xa=ya,wa=(a("bbf9"),Object(d["a"])(xa,Ca,ba,!1,null,null,null)),Pa=wa.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"signup"},[a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Signup")]),a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password confirmation:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.passwordConfirmation},on:{input:function(e){e.target.composing||(t.passwordConfirmation=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},$a=[],ka={data:function(){return{name:"",email:"",password:"",passwordConfirmation:"",errors:[]}},methods:{submit:function(){var t=this,e={name:this.name,email:this.email,password:this.password,password_confirmation:this.passwordConfirmation};i["a"].post("http://localhost:3000/users",e).then((function(e){console.log(e),t.$router.push({name:"exercise5-login"})})).catch((function(e){t.errors=e.response.data.errors}))}}},Ia=ka,Ka=Object(d["a"])(Ia,Da,$a,!1,null,null,null),Ea=Ka.exports,Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"container"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[a("h1",[t._v("Login")]),a("ul",t._l(t.errors,(function(e){return a("li",{key:e,staticClass:"text-danger"},[t._v(t._s(e))])})),0),a("div",{staticClass:"form-group"},[a("label",[t._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Submit"}})])])])},Ua=[],Na={template:"#login-page",data:function(){return{email:"",password:"",errors:[]}},methods:{submit:function(){var t=this,e={email:this.email,password:this.password};i["a"].post("http://localhost:3000/sessions",e).then((function(e){i["a"].defaults.headers.common["Authorization"]="Bearer "+e.data.jwt,localStorage.setItem("jwt",e.data.jwt),localStorage.setItem("admin",e.data.admin),t.$router.push({name:"exercise5-products-index"})})).catch((function(e){console.log(e),t.errors=["Invalid email or password."],t.email="",t.password=""}))}}},ja=Na,Ta=Object(d["a"])(ja,Sa,Ua,!1,null,null,null),Oa=Ta.exports,Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logout"})},qa=[],La={created:function(){delete i["a"].defaults.headers.common["Authorization"],localStorage.removeItem("jwt"),localStorage.removeItem("admin"),i["a"].delete("http://localhost:3000/sessions"),this.$router.push({name:"exercise5-products-index"})}},Aa=La,Ha=Object(d["a"])(Aa,Ma,qa,!1,null,null,null),Ga=Ha.exports;s["a"].use(v["a"]);var Ra=[{path:"/restful-routes",component:b,children:[{path:"products",component:E,name:"exercise1-products-index"},{path:"products/new",component:G,name:"exercise1-products-new"},{path:"products/:id",component:O,name:"exercise1-products-show"},{path:"products/:id/edit",component:J,name:"exercise1-products-edit"}]},{path:"/model-associations",component:tt,children:[{path:"products",component:it,name:"exercise3-products-index"},{path:"products/new",component:_t,name:"exercise3-products-new"},{path:"products/:id",component:ut,name:"exercise3-products-show"},{path:"products/:id/edit",component:Pt,name:"exercise3-products-edit"}]},{path:"/authentication",component:Et,children:[{path:"products",component:Ot,name:"exercise4-products-index"},{path:"products/new",component:Jt,name:"exercise4-products-new"},{path:"products/:id",component:Gt,name:"exercise4-products-show"},{path:"products/:id/edit",component:te,name:"exercise4-products-edit"},{path:"orders",component:ie,name:"exercise4-orders-index"},{path:"orders/:id",component:ue,name:"exercise4-orders-show"},{path:"signup",component:_e,name:"exercise4-signup"},{path:"login",component:Pe,name:"exercise4-login"},{path:"logout",component:Ee,name:"exercise4-logout"}]},{path:"/has-many-through",component:Oe,children:[{path:"products",component:Ge,name:"exercise5-products-index"},{path:"products/new",component:ta,name:"exercise5-products-new"},{path:"products/:id",component:Je,name:"exercise5-products-show"},{path:"products/:id/edit",component:ia,name:"exercise5-products-edit"},{path:"carted_products",component:ua,name:"exercise5-carted-products-index"},{path:"orders",component:_a,name:"exercise5-orders-index"},{path:"orders/:id",component:Pa,name:"exercise5-orders-show"},{path:"signup",component:Ea,name:"exercise5-signup"},{path:"login",component:Oa,name:"exercise5-login"},{path:"logout",component:Ga,name:"exercise5-logout"}]}],Fa=new v["a"]({mode:"history",base:"/",routes:Ra}),Qa=Fa;i["a"].defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Ba=localStorage.getItem("jwt");Ba&&(i["a"].defaults.headers.common["Authorization"]="Bearer "+Ba),i["a"].defaults.withCredentials=!0,s["a"].config.productionTip=!1,new s["a"]({router:Qa,render:function(t){return t(m)}}).$mount("#app")},"5a52":function(t,e,a){},"5b80":function(t,e,a){"use strict";a("b781")},"85ec":function(t,e,a){},b781:function(t,e,a){},bbf9:function(t,e,a){"use strict";a("5a52")},c581:function(t,e,a){"use strict";a("ec7d")},cce6:function(t,e,a){"use strict";a("e2c1")},ce43:function(t,e,a){},d22f:function(t,e,a){"use strict";a("1f9e")},d4b8:function(t,e,a){},d8ba:function(t,e,a){"use strict";a("fe7a")},e2c1:function(t,e,a){},ec7d:function(t,e,a){},fe7a:function(t,e,a){}});
//# sourceMappingURL=app.3707c450.js.map